<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="../css/bootstrap.css" rel="stylesheet">
        <link href="../css/sb-admin.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/end.css"/>
        <link rel="stylesheet" href="../css/cropbox.css"/>
        <title>全球汉语教师网</title>
    </head>

    <body>

        <div id="wrapper">

            <!-- Sidebar -->
            <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
            <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="#"><img src="../images/title.png" alt="全球汉语教师网"/></a>
                </div>

                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse navbar-ex1-collapse">
                    <ul class="nav navbar-nav side-nav">
                        <li class="active"><a href="TeacherMaintain.html"><i class="fa fa-dashboard"></i> 个人信息维护</a></li>
                        <li><a href="CourseMaintain.html"><i class="fa fa-dashboard"></i> 案例维护</a></li>
                        <!--<li><a href="CommentMaintain.html"><i class="fa fa-dashboard"></i> 评论回复</a></li>-->
                        <li><a href="PasswordMaintain.html"><i class="fa fa-dashboard"></i> 修改密码</a></li>
                    </ul>

                    <ul class="nav navbar-nav navbar-right navbar-user">
                        <li><a href="#">李老师</a></li>
                        <li><a href="#">注销</a></li>
                    </ul>
                </div><!-- /.navbar-collapse -->
            </nav>

            <div id="page-wrapper">

                <div class="row">
                    <div class="col-lg-6 col-lg-offset-3 text-center time-row">
                        个人信息维护
                    </div>
                    <div class="col-lg-6 col-lg-offset-3">
                        <table class="table vertical-table">
                            <tbody>
                                <tr>
                                    <td>注册时间</td>
                                    <td><input type="text" class="table-input" readonly="readonly" value="2016-04-01"/></td>
                                </tr>
                                <tr>
                                    <td>头像</td>
                                    <td class="text-left"><a class="btn btn-default" data-toggle="modal" data-target="#head">修改头像</a></td>
                                </tr>
                                <tr>
                                    <td>工作单位</td>
                                    <td><input type="text" class="table-input"/></td>
                                </tr>
                                <tr>
                                    <td>研究方向</td>
                                    <td><input type="text" class="table-input"/></td>
                                </tr>
                                <tr>
                                    <td>昵称</td>
                                    <td><input type="text" class="table-input"/></td>
                                </tr>
                                <tr>
                                    <td>评分</td>
                                    <td><input type="text" class="table-input" readonly="readonly" value="3.7"/></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="row">
                    <div class="col-lg-4 col-lg-offset-5 col-md-4 col-md-offset-5 col-sm-4 col-sm-offset-4">
                        <button class="btn btn-default" data-toggle="modal" data-target="#success">修改</button>
                        <button class="btn btn-default">取消</button>
                    </div>
                </div>

                <div class="modal fade" id="head" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                    <div class="modal-dialog" style="width: 800px;">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h4 class="modal-title">上传头像</h4>
                            </div>
                            <div class="modal-body text-center">
                                <div class="container">
                                    <div class="imageBox">
                                        <div class="thumbBox"></div>
                                        <div class="spinner" style="display: none">Loading...</div>
                                    </div>
                                    <div class="action">
                                        <!-- <input type="file" id="file" style=" width: 200px">-->
                                        <div class="new-contentarea tc"> <a href="javascript:void(0)" class="upload-img">
                                            <label  for="upload-file">上传图像</label>
                                        </a>
                                            <input type="file" class="" name="upload-file" id="upload-file" />
                                        </div>
                                        <input type="button" id="btnCrop"  class="Btnsty_peyton" value="裁切">
                                        <input type="button" id="btnZoomIn" class="Btnsty_peyton" value="+"  >
                                        <input type="button" id="btnZoomOut" class="Btnsty_peyton" value="-" >
                                    </div>
                                    <div class="cropped"></div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">确定</button>
                                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div><!-- /.modal -->

                <div class="modal fade" id="success" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h4 class="modal-title">修改提示</h4>
                            </div>
                            <div class="modal-body text-center">
                                <p>修改成功</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                            </div>
                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div><!-- /.modal -->


            </div><!-- /#page-wrapper -->

        </div><!-- /#wrapper -->

        <!-- JavaScript -->
        <script src="../script/jquery.min.js"></script>
        <script src="../script/bootstrap.min.js"></script>
        <script type="text/javascript" src="../script/cropbox.js"></script>
        <script type="text/javascript">

            $(window).load(function() {

                var options =
                {
                    thumbBox: '.thumbBox',
                    spinner: '.spinner',
                    imgSrc: 'images/avatar.png'
                }
                var cropper = $('.imageBox').cropbox(options);
                var img="";
                $('#upload-file').on('change', function(){
                    var reader = new FileReader();
                    reader.onload = function(e) {
                        options.imgSrc = e.target.result;
                        cropper = $('.imageBox').cropbox(options);
                    }
                    reader.readAsDataURL(this.files[0]);
                    this.files = [];
                    $('#btnCrop').click();
                })
                $('#btnCrop').on('click', function(){
                    img = cropper.getDataURL();
                    $('.cropped').html('');
                    $('.cropped').append('<img src="'+img+'" align="absmiddle" style="width:64px;margin-top:4px;border-radius:64px;box-shadow:0px 0px 12px #7E7E7E;" ><p>64px*64px</p>');
                    $('.cropped').append('<img src="'+img+'" align="absmiddle" style="width:128px;margin-top:4px;border-radius:128px;box-shadow:0px 0px 12px #7E7E7E;"><p>128px*128px</p>');
                    $('.cropped').append('<img src="'+img+'" align="absmiddle" style="width:180px;margin-top:4px;border-radius:180px;box-shadow:0px 0px 12px #7E7E7E;"><p>180px*180px</p>');
                })
                function getImg(){

                }
                $('#btnZoomIn').on('click', function(){
                    cropper.zoomIn();
                })
                $('#btnZoomOut').on('click', function(){
                    cropper.zoomOut();
                })
            });
        </script>
  </body>
</html>