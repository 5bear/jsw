<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../css/bootstrap.css"/>
    <link rel="stylesheet" href="../css/front.css" />
    <link rel="stylesheet" href="../css/style.css"/>
    <title>全球汉语教师网</title>
</head>
<body>
    <div class="header">
        <div class="layer">
            <div class="wrapper">
                <div class="logo">
                    <a href="index.html"><img src="../images/title.png" alt="全球汉语教师网"/></a>
                </div>
                <div class="clearboth"></div>
            </div>
            <ul class="nav">
                <div class="wrapper">
                    <li><a href="#">汉办直通车</a></li>
                    <li><a href="#">教学信息</a></li>
                    <li class="active"><a href="case-index.html">教学资源</a></li>
                    <li><a href="#">在线课堂</a></li>
                    <li><a href="#">信息发布</a></li>
                </div>
            </ul>
        </div>
    </div>
    <div class="wrapper">
        <div class="upload-section">
            <div class="info-table">
                <a href="case-index.html" class="back">< 返回</a>
                <h1>上传案例</h1>
                <div>
                    <span>案例名称</span>
                    <span><input type="text" class="table-input"/></span>
                </div>
                <div>
                    <span>案例分类(必填)</span>
                    <span>
                        <select class="form-control" name="" id="sort"></select>
                    </span>
                </div>
                <div>
                    <span>二级分类(可选)</span>
                    <span>
                        <select class="form-control" name="" id="subSort"></select>
                    </span>
                </div>
                <div>
                    <span>案例描述 <br/> &nbsp</span>
                    <span><textarea type="text" class="table-input"></textarea></span>
                </div>
                <div>
                    <span>案例标签<br/>以顿号(、)连接</span>
                    <span><textarea type="text" class="table-input"></textarea></span>
                </div>
                <div>
                    <span>上传预览图</span>
                    <span>
                        <img class="all-more js-upload-image" src="../images/more.png" alt="更多">
                        <p class="image-name"></p>
                        <input type="file" class="upload-image"/>
                        <img class="preview-img" src="../images/case-img8.png" alt="预览图片">
                        <img class="preview-img" src="../images/case-img8.png" alt="预览图片">
                    </span>
                </div>
                <div>
                    <span>上传案例</span>
                    <span>
                        <img class="all-more js-upload-file" src="../images/more.png" alt="更多">
                        <a class="to-preview" href="live-preview.html"><p class="file-name"></p></a>
                        <input type="file" class="upload-file"/>
                    </span>
                </div>
                <p class="text-center alert-red">请填写所有必填的选项</p>
            </div>

            <div class="row btn-row lg-btn-row">
                <div class="text-center">
                    <button class="btn btn-default" data-toggle="modal" data-target="#success">提交</button>
                    <button class="btn btn-default" data-toggle="modal" data-target="#success">保存</button>
                    <button class="btn btn-default">取消</button>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <div class="wrapper">
            <div class="footer-left">
                <div><label class="label-user" for="username">用户登录</label><input type="text" id="username"/></div>
                <div><label class="label-user" for="password">密码输入</label><input type="text" id="password"/></div>
                <button class="btn footer-btn">EMAIL SIGNUP</button>
                <a href="register.html" class="btn footer-btn">REGISTER</a>
            </div>
            <div class="footer-center">
                <p>主办方</p>
                <p>全球汉语教师网 （汉办）</p>
                <p class="footer-web">www.hanban.com</p>
            </div>
            <div class="footer-right text-left">
                <p>与我们联系</p>
                <ul class="contact-ul">
                    <li><a href="#"><img src="../images/contact1.png" alt=""/></a></li>
                    <li><a href="#"><img src="../images/contact2.png" alt=""/></a></li>
                    <li><a href="#"><img src="../images/contact3.png" alt=""/></a></li>
                    <li><a href="#"><img src="../images/contact4.png" alt=""/></a></li>
                    <li><a href="#"><img src="../images/contact5.png" alt=""/></a></li>
                </ul>
            </div>
            <div class="clearboth"></div>
            <div class="footer-bottom">
                <p>© Copyright 2016 华东师范大学 国际汉语教师研修基地版权所有</p>
            </div>
        </div>
    </div>


    <script src="../script/jquery.min.js"></script>
    <script src="../script/bootstrap.min.js"></script>
    <script>
        var data;

        $.getJSON("../json/sort.json", function(json) {
            data = json;
            var temp = "";
            for (var i in data) {
                temp += "<option value='" + i + "'>" + i + "</option>";
            }
            $("#sort").append(temp);
            var obj = $("#sort option:selected").text();
            selectSubSort(obj);
        })

        $("#sort").change(function(){
            var obj = $("#sort option:selected").text();
            selectSubSort(obj);
        });

        function selectSubSort(obj) {
            var sub, temp;
            for (var i in data) {
                if (i == obj) {
                    sub = data[i];
                    temp += "<option>(全部)</option>";
                    for (var j in sub) {
                        temp += "<option>" + sub[j] + "</option>";
                    }
                    $("#subSort").empty();
                    $("#subSort").append(temp);
                    break;
                }
            }
        }

        $(function() {
            if ($('.file-name').text()) {
                $('.to-preview').show();
            }
        });

        $('.js-upload-file').on('click', function() {
            $('.upload-file').click();
        });

        $('.upload-file').on('change', function() {
            $('.file-name').text($('.upload-file').val());
            $('.to-preview').show();
        });

        $('.js-upload-image').on('click', function() {
            $('.upload-image').click();
        })

        $('.upload-image').on('change', function() {
            $('.image-name').text($('.upload-image').val());
        })


    </script>
</body>
</html>